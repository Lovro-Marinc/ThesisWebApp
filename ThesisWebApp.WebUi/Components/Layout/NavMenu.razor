@using Telerik.Blazor.Components
@using Telerik.SvgIcons
@inherits LayoutComponentBase
<TelerikDrawer Data="@Data" Expanded="@isDrawerExpanded" MiniMode="true" Mode="DrawerMode.Push"
               SelectedItem="@selectedItem"
               SelectedItemChanged="((DrawerItem item) => SelectedItemChangedHandler(item))">
   
</TelerikDrawer>

@code{
    public bool isDrawerExpanded = true;
    private void SelectedItemChangedHandler(DrawerItem item)
    {
        selectedItem = item;
       
       
        if(item.Text == "Menu")
        {
            isDrawerExpanded = !isDrawerExpanded;
            this.StateHasChanged();
        }
    }

    protected override void OnInitialized()
    {
    }

    public DrawerItem selectedItem { get; set; }
    public IEnumerable<DrawerItem> Data { get; set; } = new List<DrawerItem>
    {
        new DrawerItem { Text = "Menu", Icon = SvgIcon.Menu },
        new DrawerItem { Separator = true },
        new DrawerItem { Text = "Home", Url = "/", Icon = SvgIcon.Home },
        
        new DrawerItem { Text = "Edit", Url = "counter", Icon = SvgIcon.EditTools },
        new DrawerItem { Text = "Export", Url = "fetchdata", Icon = SvgIcon.Export }
    };

    public class DrawerItem
    {
        public string Text { get; set; }
        public string Url { get; set; }
        public ISvgIcon Icon { get; set; }
        public bool Separator { get; set; }
    }
}
